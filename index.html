<!doctype html>
<html>
  <head>
    <meta name="viewport" content= "width=device-width, user-scalable=no">
    <title>Sync Counter</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <style>

      .btn {
        min-height: 30%;
        min-height: 30vh;
        font-size: 5em;
        touch-action: manipulation;
      }

      .grid {
        display: grid;
        gap: 1px;
        grid-template-columns: repeat(3, 1fr);
      }

      div > div {
        padding: 10px;
        /*background-color: #ccc;*/
      }

    </style>
  </head>
  <body>
    <div class="grid">
      <div><button onclick="incNum1()" class="btn btn-success btn-lg btn-block">☝️</button></div>
      <div><button onclick="decNum1()" class="btn btn-danger btn-lg btn-block">👇</button></div>
      <div><p id='redvalue' class="text-center" style="font-size: 5em;">-</p></div>

      <div><button onclick="incNum2()" class="btn btn-success btn-lg btn-block">☝️</button></div>
      <div><button onclick="decNum2()" class="btn btn-danger btn-lg btn-block">👇</button></div>
      <div><p id='bluevalue' class="text-center" style="font-size: 5em;">-</p></div>

      <div><button onclick="incNum3()" class="btn btn-success btn-lg btn-block">☝️</button></div>
      <div><button onclick="decNum3()" class="btn btn-danger btn-lg btn-block">👇</button></div>
      <div><p id='midvalue' class="text-center" style="font-size: 5em;">-</p></div>
    </div>

    <script src="/socket.io/socket.io.js"></script>
    <script>

      var socket = io();

      document.addEventListener("DOMContentLoaded", function(event) {
        socket.on('server broadcast', function (values) {
          document.getElementById('redvalue').innerHTML = values["red"];
          document.getElementById('bluevalue').innerHTML = values["blue"];
          document.getElementById('midvalue').innerHTML = values["mid"];
          console.log("I've received the numbers!");
        });
      });

      function incNum1(){
        socket.emit("button", "red", 1);
      }

      function incNum2(){
        socket.emit("button", "blue", 1);
      }

      function incNum3(){
        socket.emit("button", "mid", 1);
      }

      function decNum1(){
        socket.emit("button", "red", -1);
      }

      function decNum2(){
        socket.emit("button", "blue", -1);
      }

      function decNum3(){
        socket.emit("button", "mid", -1);
      }

    </script>
  </body>
</html>
